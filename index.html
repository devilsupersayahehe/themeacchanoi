<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ACC Hà Nội - Đồng hành pháp lý cùng bạn</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Inter:wght@300;400;500;600&family=Roboto:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400&display=swap" rel="stylesheet">
    
    <!-- Babel Standalone -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Tailwind Configuration -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              serif: ['"Playfair Display"', 'serif'],
              sans: ['"Inter"', 'sans-serif'],
              roboto: ['"Roboto"', 'sans-serif'],
            },
            colors: {
              brand: {
                red: '#850000',      /* Màu chủ đạo: Đỏ thẫm */
                navy: '#0F172A',     /* Màu chữ: Xám đen/Xanh đen đậm */
                navyLight: '#1E293B',
              }
            },
            animation: {
              'fade-in': 'fadeIn 0.5s ease-out',
            },
            keyframes: {
              fadeIn: {
                '0%': { opacity: '0' },
                '100%': { opacity: '1' },
              }
            }
          }
        }
      }
    </script>

    <style>
      body {
        font-family: 'Inter', sans-serif;
      }
      h1, h2, h3, h4, h5, h6 {
        font-family: 'Playfair Display', serif;
      }
      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #f1f1f1;
      }
      ::-webkit-scrollbar-thumb {
        background: #850000;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #600000;
      }
      .font-roboto {
        font-family: 'Roboto', sans-serif !important;
      }
      html {
        scroll-behavior: smooth;
      }
      /* Texture class for reuse */
      .bg-texture-overlay {
        background-image: url("https://www.transparenttextures.com/patterns/cubes.png");
      }
      /* Fix cho menu con trên mobile */
      .mobile-menu-container {
        height: calc(100vh - 80px); /* Trừ đi chiều cao header */
      }
    </style>

    <!-- Import Map (Using React 18 strict) -->
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.2.0",
    "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
    "react-router-dom": "https://esm.sh/react-router-dom@6.22.3?deps=react@18.2.0,react-dom@18.2.0",
    "lucide-react": "https://esm.sh/lucide-react@0.344.0?deps=react@18.2.0",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/"
  }
}
</script>
  </head>
  <body class="bg-slate-50 text-slate-800 antialiased">
    <div id="root"></div>

    <script type="text/babel" data-type="module">
      import React, { useState, useEffect } from 'react';
      import ReactDOM from 'react-dom/client';
      import { HashRouter, Routes, Route, useLocation, Link, NavLink, Outlet } from 'react-router-dom';
      import { 
        Menu, X, Phone, ChevronDown, ChevronUp, ChevronRight, Mail, Send, Facebook, MapPin, ArrowRight,
        Calendar, User, Search, ChevronLeft, Quote, ArrowUp as ArrowUpIcon, Star,
        CheckCircle2, Trophy, ShieldCheck, Clock, PiggyBank,
        Building2, Gavel, FileText, Briefcase, Shield, HeartHandshake, Scale
      } from 'lucide-react';

      // ==========================================
      // 1. DATA & CONSTANTS
      // ==========================================

      const NAV_ITEMS = [
        { label: 'Trang Chủ', path: '/', external: false },
        { label: 'Giới Thiệu', path: 'https://acchanoi.vn/gioi-thieu/', external: true },
        { label: 'Thành Lập Công Ty', path: 'https://acchanoi.vn/thanh-lap-cong-ty-tai-ha-noi/', external: true },
        {
          label: 'Giấy Phép',
          children: [
            { label: 'GIẤY PHÉP KINH DOANH', path: 'https://acchanoi.vn/dang-ky-giay-phep-kinh-doanh-tai-ha-noi/', external: true },
            { label: 'GIẤY PHÉP LAO ĐỘNG', path: 'https://acchanoi.vn/dich-vu-cap-giay-phep-lao-dong-o-ha-noi/', external: true },
            { label: 'GIẤY PHÉP KINH DOANH VẬN TẢI', path: 'https://acchanoi.vn/dich-vu-lam-giay-phep-kinh-doanh-van-tai-tai-ha-noi/', external: true },
            { label: 'GIẤY PHÉP PHÒNG CHÁY CHỮA CHÁY (PCCC)', path: 'https://acchanoi.vn/dich-vu-cap-giay-phep-phong-chay-chua-chay-tai-ha-noi/', external: true },
            { label: 'GIẤY PHÉP LỮ HÀNH', path: 'https://acchanoi.vn/dich-vu-dang-ky-giay-phep-kinh-doanh-lu-hanh-quoc-te-tai-ha-noi/', external: true },
            { label: 'GIẤY PHÉP TƯ VẤN DU HỌC', path: 'https://acchanoi.vn/dich-vu-cap-giay-phep-tu-van-du-hoc-tai-ha-noi/', external: true },
            { label: 'GIẤY PHÉP XÂY DỰNG', path: 'https://acchanoi.vn/dich-vu-dang-ky-giay-phep-xay-dung-tai-ha-noi/', external: true },
            { label: 'GIẤY PHÉP NHẬP KHẨU', path: 'https://acchanoi.vn/dich-vu-dang-ky-giay-phep-nhap-khau-tai-ha-noi/', external: true },
          ]
        },
        { label: 'Kế Toán - Kiểm Toán', path: 'https://acchanoi.vn/khai-thue-ban-dau-cho-doanh-nghiep-tai-ha-noi/', external: true },
        { label: 'Đầu Tư', path: 'https://acchanoi.vn/dich-vu-thanh-lap-cong-ty-von-nuoc-ngoai-tai-ha-noi/', external: true },
        { label: 'Hôn Nhân', path: 'https://acchanoi.vn/dich-vu-ly-hon-tai-ha-noi/', external: true },
        { label: 'Liên Hệ', path: 'https://acchanoi.vn/lien-he/', external: true },
      ];

      const PRACTICE_AREAS = [
        {
          id: 'corp',
          title: 'Luật Doanh Nghiệp',
          description: 'Tư vấn chiến lược cho các tập đoàn đa quốc gia và doanh nghiệp khởi nghiệp về sáp nhập, mua lại và quản trị.',
          icon: Building2,
          details: ['M&A', 'Tái cấu trúc', 'Quản trị doanh nghiệp', 'Đầu tư nước ngoài'],
          path: 'https://acchanoi.vn/dich-vu-tu-van-doanh-nghiep-tai-ha-noi/'
        },
        {
          id: 'litigation',
          title: 'Tranh Tụng & Giải Quyết Tranh Chấp',
          description: 'Đại diện khách hàng trong các vụ kiện phức tạp với tỷ lệ thắng kiện cao tại các cấp tòa án.',
          icon: Gavel,
          details: ['Tranh chấp thương mại', 'Trọng tài quốc tế', 'Khiếu nại hành chính'],
          path: 'https://acchanoi.vn/luat-su-gioi-tai-ha-noi/'
        },
        {
          id: 'intellectual',
          title: 'Sở Hữu Trí Tuệ',
          description: 'Bảo vệ tài sản vô hình của bạn thông qua đăng ký bản quyền, nhãn hiệu và bằng sáng chế.',
          icon: FileText,
          details: ['Đăng ký nhãn hiệu', 'Bản quyền tác giả', 'Nhượng quyền thương mại'],
          path: 'https://acchanoi.vn/dich-vu-dang-ky-sang-che-tai-ha-noi/'
        },
        {
          id: 'real-estate',
          title: 'Bất Động Sản',
          description: 'Hỗ trợ pháp lý toàn diện cho các giao dịch bất động sản, quy hoạch và xây dựng.',
          icon: Briefcase,
          details: ['Mua bán & Chuyển nhượng', 'Dự án xây dựng', 'Tranh chấp đất đai'],
          path: 'https://acchanoi.vn/luat-su-dat-dai-tai-ha-noi/'
        },
        {
          id: 'criminal',
          title: 'Luật Hình Sự',
          description: 'Bào chữa chuyên nghiệp và tận tâm cho các cá nhân và tổ chức trong các vụ án hình sự.',
          icon: Shield,
          details: ['Bào chữa tội phạm cổ cồn trắng', 'Tội phạm kinh tế', 'Tư vấn tuân thủ'],
          path: 'https://acchanoi.vn/luat-su-gioi-tai-ha-noi/'
        },
        {
          id: 'family',
          title: 'Hôn Nhân & Gia Đình',
          description: 'Giải quyết các vấn đề gia đình với sự thấu hiểu và bảo mật tuyệt đối.',
          icon: HeartHandshake,
          details: ['Ly hôn & Quyền nuôi con', 'Phân chia tài sản', 'Thừa kế & Di chúc'],
          path: 'https://acchanoi.vn/luat-su-ly-hon-gioi-tai-ha-noi/'
        },
      ];

      const ATTORNEYS = [
        {
          id: '1',
          name: 'Ls. Trần Văn Minh',
          role: 'Giám Đốc Điều Hành',
          image: 'https://images.unsplash.com/photo-1560250097-0b93528c311a?auto=format&fit=crop&q=80&w=800',
          specialty: 'Luật Doanh Nghiệp & Đầu Tư',
        },
        {
          id: '2',
          name: 'Ls. Nguyễn Thị Lan Anh',
          role: 'Luật Sư Cao Cấp',
          image: 'https://images.unsplash.com/photo-1573496359-136d4755f36f?auto=format&fit=crop&q=80&w=800',
          specialty: 'Sở Hữu Trí Tuệ',
        },
        {
          id: '3',
          name: 'Ls. Lê Hoàng Nam',
          role: 'Trưởng Ban Tranh Tụng',
          image: 'https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?auto=format&fit=crop&q=80&w=800',
          specialty: 'Bất Động Sản & Xây Dựng',
        },
        {
          id: '4',
          name: 'Ls. Phạm Thị Hương',
          role: 'Chuyên Gia Tư Vấn',
          image: 'https://images.unsplash.com/photo-1551836022-d5d88e9218df?auto=format&fit=crop&q=80&w=800',
          specialty: 'Hôn Nhân & Gia Đình',
        }
      ];

      const TESTIMONIALS = [
        {
          id: 't1',
          quote: "Sự chuyên nghiệp và kiến thức sâu rộng của ACC Hà Nội đã giúp chúng tôi vượt qua giai đoạn pháp lý khó khăn nhất. Một đối tác thực sự đáng tin cậy.",
          author: "Phạm Hùng Dũng",
          role: "CEO, TechVi Corp"
        },
        {
          id: 't2',
          quote: "Tôi ấn tượng với cách tiếp cận chi tiết và chiến lược rõ ràng của họ. Kết quả vụ kiện vượt xa mong đợi của chúng tôi.",
          author: "Mai Thu Huyền",
          role: "Giám đốc Tài chính, Horizon Group"
        },
        {
          id: 't3',
          quote: "Đội ngũ luật sư tận tâm nhất mà tôi từng làm việc cùng. Họ luôn sẵn sàng giải đáp mọi thắc mắc 24/7.",
          author: "Nguyễn Văn An",
          role: "Chủ tịch, An Phat Holdings"
        }
      ];

      const LEGAL_SERVICES = [
        { label: 'Luật Doanh Nghiệp', path: 'https://acchanoi.vn/dich-vu-tu-van-doanh-nghiep-tai-ha-noi/' },
        { label: 'Bất Động Sản', path: 'https://acchanoi.vn/luat-su-dat-dai-tai-ha-noi/' },
        { label: 'Sở Hữu Trí Tuệ', path: 'https://acchanoi.vn/dich-vu-dang-ky-sang-che-tai-ha-noi/' },
        { label: 'Hôn Nhân & Gia Đình', path: 'https://acchanoi.vn/luat-su-ly-hon-gioi-tai-ha-noi/' },
        { label: 'Tố Tụng Dân Sự', path: 'https://acchanoi.vn/luat-su-gioi-tai-ha-noi/' }
      ];

      const QUICK_LINKS = [
        { label: 'Giới Thiệu', path: 'https://acchanoi.vn/gioi-thieu/' },
        { label: 'Lĩnh Vực Hoạt Động', path: '#practices' },
        { label: 'Đội Ngũ Luật Sư', path: '#attorneys' },
        { label: 'Tin Tức & Sự Kiện', path: '#news' },
        { label: 'Liên Hệ', path: 'https://acchanoi.vn/lien-he/' },
      ];

      // ==========================================
      // 2. API SERVICE
      // ==========================================

      const fetchLatestPosts = async () => {
        try {
          const response = await fetch('https://acchanoi.vn/wp-json/wp/v2/posts?per_page=6&_embed');
          if (!response.ok) {
            throw new Error('Failed to fetch posts');
          }
          const data = await response.json();

          return data.map((post) => {
            // Extract Image
            let imageUrl = 'https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?auto=format&fit=crop&q=80&w=800'; // Fallback
            if (post._embedded && post._embedded['wp:featuredmedia'] && post._embedded['wp:featuredmedia'][0]) {
              imageUrl = post._embedded['wp:featuredmedia'][0].source_url;
            }

            // Extract Category
            let category = 'Tin Tức';
            if (post._embedded && post._embedded['wp:term'] && post._embedded['wp:term'][0] && post._embedded['wp:term'][0][0]) {
              category = post._embedded['wp:term'][0][0].name;
            }

            // Extract Author
            let author = 'ACC Group';
            if (post._embedded && post._embedded['author'] && post._embedded['author'][0]) {
              author = post._embedded['author'][0].name;
            }

            // Format Date
            const dateObj = new Date(post.date);
            const formattedDate = `${dateObj.getDate()}/${dateObj.getMonth() + 1}/${dateObj.getFullYear()}`;

            // Clean Excerpt
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = post.excerpt.rendered;
            const cleanExcerpt = tempDiv.textContent || tempDiv.innerText || '';

            // Clean Title
            const tempTitle = document.createElement('div');
            tempTitle.innerHTML = post.title.rendered;
            const cleanTitle = tempTitle.textContent || tempTitle.innerText || '';

            return {
              id: post.id.toString(),
              title: cleanTitle,
              excerpt: cleanExcerpt.substring(0, 150) + '...',
              date: formattedDate,
              author: author,
              category: category,
              image: imageUrl
            };
          });
        } catch (error) {
          console.error('Error fetching posts:', error);
          return [];
        }
      };

      // ==========================================
      // 3. UI COMPONENTS
      // ==========================================

      const Section = ({ children, className = '', bg = 'white', id }) => {
        const bgClasses = {
          white: 'bg-white',
          light: 'bg-slate-50',
          dark: 'bg-slate-900',
          navy: 'bg-brand-navy',
        };
        return (
          <section id={id} className={`py-20 md:py-24 ${bgClasses[bg] || bgClasses.white} ${className}`}>
            <div className="container mx-auto px-6 md:px-12 lg:px-24">
              {children}
            </div>
          </section>
        );
      };

      const SectionHeader = ({ subtitle, title, description, align = 'center', className = '', light = false }) => {
        const alignClasses = align === 'center' ? 'items-center text-center mx-auto' : 'items-start text-left';
        
        return (
          <div className={`flex flex-col ${alignClasses} mb-12 md:mb-16 ${className}`}>
            {subtitle && (
              <span className={`${light ? 'text-white/80' : 'text-brand-red'} font-bold tracking-widest uppercase text-sm mb-4 inline-block relative px-2`}>
                 {subtitle}
                 {align === 'center' && <span className={`absolute top-1/2 left-full w-8 h-[1px] ml-2 ${light ? 'bg-white/30' : 'bg-brand-red/30'}`}></span>}
                 {align === 'center' && <span className={`absolute top-1/2 right-full w-8 h-[1px] mr-2 ${light ? 'bg-white/30' : 'bg-brand-red/30'}`}></span>}
              </span>
            )}
            <h2 className={`text-3xl md:text-4xl lg:text-5xl font-serif font-bold ${light ? 'text-white' : 'text-brand-navy'} leading-tight relative inline-block group cursor-default`}>
              {title}
              <span className={`absolute bottom-[-12px] left-0 w-12 h-1 rounded group-hover:w-full transition-all duration-500 ease-out ${light ? 'bg-white' : 'bg-brand-red'}`}></span>
            </h2>
            {description && (
              <p className={`${light ? 'text-slate-200' : 'text-slate-600'} mt-8 text-lg leading-relaxed max-w-2xl`}>
                {description}
              </p>
            )}
          </div>
        );
      };

      const PostCard = ({ post, layout = 'grid' }) => {
        const postLink = `/blog/${post.id}`;

        if (layout === 'list') {
          return (
            <div className="flex flex-col md:flex-row gap-6 bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-all border border-slate-100 group relative">
              <Link to={postLink} className="absolute inset-0 z-0" aria-label={`Read ${post.title}`} />
              <div className="md:w-1/3 h-64 md:h-auto overflow-hidden relative">
                <img src={post.image} alt={post.title} className="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"/>
                <span className="absolute top-4 left-4 bg-brand-red text-white text-xs font-bold px-3 py-1 uppercase rounded-sm z-10 pointer-events-none">
                  {post.category}
                </span>
              </div>
              <div className="p-6 md:w-2/3 flex flex-col justify-center relative pointer-events-none">
                <div className="flex items-center space-x-4 text-xs text-slate-500 mb-3">
                  <span className="flex items-center"><Calendar size={14} className="mr-1"/> {post.date}</span>
                  <span className="flex items-center"><User size={14} className="mr-1"/> {post.author}</span>
                </div>
                <h3 className="text-2xl font-bold text-brand-navy mb-3 group-hover:text-brand-red transition-colors leading-tight font-sans">
                  {post.title}
                </h3>
                <p className="text-slate-600 mb-4 line-clamp-2">{post.excerpt}</p>
                <span className="inline-flex items-center text-sm font-semibold text-brand-navy group-hover:text-brand-red transition-colors">
                  Đọc tiếp <ArrowRight size={16} className="ml-1 transition-transform duration-300 group-hover:translate-x-1" />
                </span>
              </div>
            </div>
          );
        }

        return (
          <div className="flex flex-col bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 border border-slate-100 group h-full relative cursor-pointer">
            <Link to={postLink} className="absolute inset-0 z-10" aria-label={`Read ${post.title}`} />
            
            <div className="h-40 overflow-hidden relative">
              <img src={post.image} alt={post.title} className="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"/>
              <div className="absolute inset-0 bg-brand-navy/10 group-hover:bg-transparent transition-colors"></div>
              <span className="absolute top-3 left-3 bg-brand-red text-white text-[10px] font-bold px-2 py-1 uppercase rounded-sm z-20 pointer-events-none">
                {post.category}
              </span>
            </div>
            
            <div className="p-4 flex flex-col flex-grow relative">
              <div className="flex items-center space-x-3 text-[11px] text-slate-500 mb-2">
                <span className="flex items-center"><Calendar size={12} className="mr-1"/> {post.date}</span>
              </div>
              
              <h3 className="text-lg font-bold text-brand-navy group-hover:text-brand-red transition-colors line-clamp-2 leading-snug font-sans mb-2">
                {post.title}
              </h3>
              
              <p className="text-slate-600 text-xs mb-3 line-clamp-2 flex-grow">{post.excerpt}</p>
              
              <div className="pt-3 border-t border-slate-100 mt-auto">
                <span className="inline-flex items-center text-[10px] font-bold text-brand-red uppercase tracking-widest group-hover:text-brand-navy transition-colors">
                  Đọc thêm <ArrowRight size={12} className="ml-1 transition-transform duration-300 group-hover:translate-x-1" />
                </span>
              </div>
            </div>
          </div>
        );
      };

      const TestimonialCarousel = ({ testimonials }) => {
        const [currentIndex, setCurrentIndex] = useState(0);
        const [isAutoPlaying, setIsAutoPlaying] = useState(true);

        useEffect(() => {
          let interval;
          if (isAutoPlaying) {
            interval = setInterval(() => {
              setCurrentIndex((prev) => (prev === testimonials.length - 1 ? 0 : prev + 1));
            }, 6000);
          }
          return () => clearInterval(interval);
        }, [isAutoPlaying, testimonials.length]);

        const handlePrev = () => {
          setIsAutoPlaying(false);
          setCurrentIndex((prev) => (prev === 0 ? testimonials.length - 1 : prev - 1));
        };

        const handleNext = () => {
          setIsAutoPlaying(false);
          setCurrentIndex((prev) => (prev === testimonials.length - 1 ? 0 : prev + 1));
        };

        return (
          <div className="relative w-full max-w-5xl mx-auto px-4">
            <div className="relative min-h-[400px] flex items-center justify-center">
              {testimonials.map((t, index) => (
                <div
                  key={t.id}
                  className={`absolute w-full md:w-4/5 lg:w-3/4 transition-all duration-700 ease-in-out transform
                    ${index === currentIndex ? 'opacity-100 translate-x-0 z-20 scale-100' : 'opacity-0 pointer-events-none z-0 scale-95'}
                    ${index < currentIndex ? '-translate-x-20' : index > currentIndex ? 'translate-x-20' : ''}
                  `}
                >
                  <div className="bg-white rounded-2xl shadow-xl border border-slate-100 p-8 md:p-12 relative overflow-hidden group hover:shadow-2xl transition-shadow duration-300">
                    <Quote className="absolute top-4 right-8 text-slate-100 w-32 h-32 md:w-48 md:h-48 -rotate-12 transform group-hover:scale-110 transition-transform duration-700" />
                    
                    <div className="relative z-10 flex flex-col items-center text-center">
                      <div className="flex space-x-1 mb-6">
                        {[...Array(5)].map((_, i) => (
                          <Star key={i} size={20} className="fill-brand-red text-brand-red" />
                        ))}
                      </div>

                      <p className="text-slate-700 text-lg md:text-2xl font-serif italic mb-8 leading-relaxed">
                        "{t.quote}"
                      </p>

                      <div className="w-16 h-1 bg-brand-red rounded-full mb-6"></div>

                      <div className="flex flex-col items-center">
                         <div className="w-16 h-16 bg-brand-navy text-white rounded-full flex items-center justify-center text-2xl font-serif font-bold mb-3 shadow-md border-4 border-white">
                            {t.author.charAt(0)}
                         </div>
                         <h4 className="font-serif font-bold text-brand-navy text-xl">{t.author}</h4>
                         <p className="text-sm text-slate-500 font-medium uppercase tracking-wider mt-1">{t.role}</p>
                      </div>
                    </div>
                  </div>
                </div>
              ))}
            </div>

            <button 
              onClick={handlePrev} 
              className="absolute top-1/2 left-0 md:left-4 transform -translate-y-1/2 p-4 rounded-full bg-white text-brand-navy shadow-lg border border-slate-100 hover:bg-brand-navy hover:text-white hover:border-brand-navy transition-all duration-300 z-30 group"
            >
              <ChevronLeft size={24} className="group-hover:-translate-x-1 transition-transform" />
            </button>
            <button 
              onClick={handleNext} 
              className="absolute top-1/2 right-0 md:right-4 transform -translate-y-1/2 p-4 rounded-full bg-white text-brand-navy shadow-lg border border-slate-100 hover:bg-brand-navy hover:text-white hover:border-brand-navy transition-all duration-300 z-30 group"
            >
              <ChevronRight size={24} className="group-hover:translate-x-1 transition-transform" />
            </button>

            <div className="flex justify-center space-x-3 mt-8">
              {testimonials.map((_, idx) => (
                <button
                  key={idx}
                  onClick={() => { setIsAutoPlaying(false); setCurrentIndex(idx); }}
                  className={`h-2 rounded-full transition-all duration-500 ${
                    idx === currentIndex ? 'bg-brand-red w-10' : 'bg-slate-300 w-2 hover:bg-brand-red/60'
                  }`}
                />
              ))}
            </div>
          </div>
        );
      };

      const FloatingContact = () => (
        <div className="fixed bottom-6 left-6 z-50 flex flex-col space-y-4">
          <a href="https://zalo.me/2519445727415972978" className="relative group flex items-center justify-center w-14 h-14 bg-blue-600 rounded-full shadow-lg hover:scale-110 transition-transform duration-300">
            <span className="absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75 animate-ping"></span>
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Icon_of_Zalo.svg/1200px-Icon_of_Zalo.svg.png" alt="Zalo" className="w-8 h-8 relative z-10"/>
            <span className="absolute left-16 bg-slate-800 text-white text-xs py-1 px-3 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap">Chat Zalo</span>
          </a>
          <a href="tel:0923087107" className="relative group flex items-center justify-center w-14 h-14 bg-brand-red rounded-full shadow-lg hover:bg-red-700 hover:scale-110 transition-all duration-300">
            <span className="absolute inline-flex h-full w-full rounded-full bg-brand-red opacity-75 animate-ping"></span>
            <Phone className="text-white relative z-10" size={24} />
            <span className="absolute left-16 bg-slate-800 text-white text-xs py-1 px-3 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap">Gọi Ngay</span>
          </a>
        </div>
      );

      const ScrollToTopButton = () => {
        const [isVisible, setIsVisible] = useState(false);
        useEffect(() => {
          const toggle = () => setIsVisible(window.scrollY > 300);
          window.addEventListener('scroll', toggle);
          return () => window.removeEventListener('scroll', toggle);
        }, []);
        return (
          <button onClick={() => window.scrollTo({top: 0, behavior: 'smooth'})} className={`fixed bottom-8 right-6 md:right-10 z-50 p-3 md:p-4 rounded-full bg-brand-navy text-white shadow-xl transition-all duration-300 hover:bg-brand-red border-2 border-slate-700 hover:border-brand-red ${isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10 pointer-events-none'}`}>
            <ArrowUpIcon size={20} />
          </button>
        );
      };

      // ==========================================
      // 4. LAYOUT COMPONENTS
      // ==========================================

      const Header = () => {
        const [isScrolled, setIsScrolled] = useState(false);
        const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
        const [mobileSubmenuOpen, setMobileSubmenuOpen] = useState(null);
        const location = useLocation();
        // Changed to only transparent on exactly home page
        const isTransparentPage = location.pathname === '/';

        useEffect(() => {
          const handleScroll = () => setIsScrolled(window.scrollY > 20);
          window.addEventListener('scroll', handleScroll);
          return () => window.removeEventListener('scroll', handleScroll);
        }, []);

        useEffect(() => {
          document.body.style.overflow = isMobileMenuOpen ? 'hidden' : 'unset';
          return () => { document.body.style.overflow = 'unset'; };
        }, [isMobileMenuOpen]);

        const showSolidHeader = isScrolled || !isTransparentPage || isMobileMenuOpen;

        const toggleMobileSubmenu = (label) => {
          setMobileSubmenuOpen(mobileSubmenuOpen === label ? null : label);
        };

        return (
          <React.Fragment>
            <header className={`fixed top-0 left-0 w-full z-50 transition-all duration-300 ${showSolidHeader ? 'bg-brand-red/95 backdrop-blur-md shadow-lg py-1.5 border-b border-white/10' : 'bg-transparent py-2 md:py-3'}`}>
              {showSolidHeader && (
                 <div className="absolute inset-0 opacity-10 pointer-events-none bg-texture-overlay"></div>
              )}
              <div className="container mx-auto px-6 md:px-8 lg:px-4 relative z-10">
                <div className="flex items-center justify-between">
                  <Link to="/" className="flex items-center space-x-2.5 group relative z-50" onClick={() => setIsMobileMenuOpen(false)}>
                    <div className="rounded transition-colors flex items-center justify-center">
                      <img 
                        src="https://acchanoi.vn/wp-content/uploads/2025/12/2ea9378f-90ac-4d31-b74e-85ed91a5ae6d.png" 
                        alt="ACC Logo" 
                        className="h-10 md:h-12 w-auto object-contain brightness-0 invert"
                      />
                    </div>
                    <div className="flex flex-col">
                      <span className={`font-serif text-lg font-bold tracking-tight ${showSolidHeader ? 'text-white' : 'text-white drop-shadow-md'}`}>ACC Hà Nội</span>
                      <span className={`text-[0.55rem] uppercase tracking-[0.2em] font-medium ${showSolidHeader ? 'text-white/80' : 'text-white/90 drop-shadow-md'}`}>Đồng hành pháp lý cùng bạn</span>
                    </div>
                  </Link>

                  <nav className="hidden lg:flex items-center space-x-1 xl:space-x-4">
                    {NAV_ITEMS.map((item) => {
                      if (item.children) {
                        return (
                          <div key={item.label} className="relative group">
                            <button className={`flex items-center space-x-1 text-xs font-medium tracking-wide uppercase transition-colors relative hover:text-white py-1.5 whitespace-nowrap ${showSolidHeader ? 'text-slate-200' : 'text-white/90 drop-shadow-sm'}`}>
                              <span>{item.label}</span>
                              <ChevronDown size={12} />
                              <span className="absolute bottom-0 left-0 w-0 h-0.5 bg-white transition-all duration-300 group-hover:w-full"></span>
                            </button>
                            {/* FIX: Improved dropdown container logic */}
                            <div className="absolute left-0 top-full pt-6 w-max max-w-sm min-w-[280px] opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform translate-y-2 group-hover:translate-y-0">
                              {/* FIX: Added overflow-hidden to prevent content spill and rounded-xl for aesthetics */}
                              <div className="bg-white rounded-xl shadow-2xl py-2 border-t-4 border-brand-red overflow-hidden flex flex-col">
                                {item.children.map((child) => (
                                  <a 
                                    key={child.label}
                                    href={child.path}
                                    className="block px-6 py-3 text-xs font-medium text-slate-800 hover:bg-slate-50 hover:text-brand-red border-b border-slate-100 last:border-0 transition-all duration-200 whitespace-normal leading-relaxed hover:translate-x-2"
                                  >
                                    {child.label}
                                  </a>
                                ))}
                              </div>
                            </div>
                          </div>
                        );
                      }

                      if (item.external) {
                        return (
                          <a 
                            key={item.label}
                            href={item.path}
                            className={`group text-xs font-medium tracking-wide uppercase transition-colors relative hover:text-white py-1.5 whitespace-nowrap ${showSolidHeader ? 'text-slate-200' : 'text-white/90 drop-shadow-sm'}`}
                          >
                            {item.label}
                            <span className="absolute bottom-0 left-0 w-0 h-0.5 bg-white transition-all duration-300 group-hover:w-full"></span>
                          </a>
                        );
                      }

                      return (
                        <NavLink 
                          key={item.path} 
                          to={item.path} 
                          className={({ isActive }) => `group text-xs font-medium tracking-wide uppercase transition-colors relative hover:text-white py-1.5 whitespace-nowrap ${isActive ? 'text-white font-bold border-b border-white' : showSolidHeader ? 'text-slate-200' : 'text-white/90 drop-shadow-sm'}`}
                        >
                          {item.label}
                          <span className="absolute bottom-0 left-0 w-0 h-0.5 bg-white transition-all duration-300 group-hover:w-full"></span>
                        </NavLink>
                      );
                    })}
                    {/* FIX: Changed rounded to rounded-full for circle button style */}
                    <a href="tel:0923087107" className="relative ml-4 flex items-center space-x-2 bg-white text-brand-red px-6 py-2.5 rounded-full shadow-md overflow-hidden group font-bold text-xs whitespace-nowrap hover:shadow-xl transition-all duration-300">
                      <span className="relative z-10 flex items-center space-x-2">
                         <Phone size={14} className="animate-pulse" /><span>TƯ VẤN MIỄN PHÍ</span>
                      </span>
                      <div className="absolute top-0 -left-full w-full h-full bg-gradient-to-r from-transparent via-slate-200/60 to-transparent transform -skew-x-12 transition-all duration-700 group-hover:left-full"></div>
                    </a>
                  </nav>

                  <button 
                    className="lg:hidden relative z-50 p-1 focus:outline-none w-8 h-8 flex items-center justify-center" 
                    onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)} 
                    aria-label="Menu"
                  >
                    <div className="relative w-6 h-6">
                      <span className={`absolute inset-0 transform transition-all duration-300 ease-in-out ${isMobileMenuOpen ? 'opacity-0 rotate-90 scale-50' : 'opacity-100 rotate-0 scale-100'}`}>
                        <Menu size={24} className={showSolidHeader ? 'text-white' : 'text-white drop-shadow-md'} />
                      </span>
                      <span className={`absolute inset-0 transform transition-all duration-300 ease-in-out ${isMobileMenuOpen ? 'opacity-100 rotate-0 scale-100' : 'opacity-0 -rotate-90 scale-50'}`}>
                        <X size={24} className="text-white" />
                      </span>
                    </div>
                  </button>
                </div>
              </div>
            </header>

            <div className={`fixed inset-0 bg-[#850000] z-40 flex flex-col pt-24 px-6 transition-all duration-500 ease-out lg:hidden ${isMobileMenuOpen ? 'opacity-100 visible translate-y-0' : 'opacity-0 invisible -translate-y-8'}`}>
                <div className="absolute inset-0 opacity-10 pointer-events-none bg-texture-overlay"></div>
                
                <nav className="flex flex-col space-y-2 relative z-10 h-full overflow-y-auto pb-20 items-center text-center mobile-menu-container">
                  {NAV_ITEMS.map((item, idx) => {
                    if (item.children) {
                      const isOpen = mobileSubmenuOpen === item.label;
                      return (
                        <div key={item.label} className="w-full max-w-xs flex flex-col items-center">
                          <button 
                            onClick={() => toggleMobileSubmenu(item.label)}
                            className={`w-full py-3 text-lg font-serif font-bold border-b border-white/20 flex items-center justify-center space-x-2 transition-colors ${isOpen ? 'text-white' : 'text-slate-200 hover:text-white'}`}
                          >
                            <span>{item.label}</span>
                            {isOpen ? <ChevronUp size={16}/> : <ChevronDown size={16}/>}
                          </button>
                          <div className={`overflow-hidden transition-all duration-300 w-full ${isOpen ? 'max-h-[800px] opacity-100 mt-2' : 'max-h-0 opacity-0'}`}>
                            <div className="flex flex-col space-y-1 bg-black/20 rounded-lg p-2 mb-2">
                              {item.children.map(child => (
                                <a 
                                  key={child.label} 
                                  href={child.path} 
                                  className="text-sm text-slate-200 hover:text-white hover:bg-white/10 py-3 px-2 rounded block break-words"
                                >
                                  {child.label}
                                </a>
                              ))}
                            </div>
                          </div>
                        </div>
                      );
                    }

                    if (item.external) {
                      return (
                        <a 
                          key={item.label}
                          href={item.path}
                          className="w-full max-w-xs py-3 text-lg font-serif font-bold border-b border-white/20 text-slate-200 hover:text-white"
                        >
                          {item.label}
                        </a>
                      );
                    }

                    return (
                      <NavLink 
                        key={item.path} 
                        to={item.path} 
                        onClick={() => setIsMobileMenuOpen(false)} 
                        className={({ isActive }) => `w-full max-w-xs py-3 text-lg font-serif font-bold border-b border-white/20 transition-all ${isActive ? 'text-white border-white' : 'text-slate-200 hover:text-white'}`}
                      >
                        {item.label}
                      </NavLink>
                    );
                  })}

                  <div className="pt-8 mt-4 w-full max-w-xs pb-10">
                     {/* FIX: Rounded full for circle style button in mobile menu */}
                     <a href="tel:0923087107" className="w-full flex items-center justify-center space-x-3 bg-white hover:bg-slate-100 text-brand-red px-8 py-4 rounded-full transition-all text-lg font-bold shadow-lg transform hover:-translate-y-1">
                      <Phone size={20} /><span>TƯ VẤN MIỄN PHÍ</span>
                    </a>
                  </div>
                </nav>
            </div>
          </React.Fragment>
        );
      };

      const Footer = () => {
        return (
          <footer className="bg-brand-red text-slate-100 border-t-4 border-white/20 relative overflow-hidden">
            {/* Added texture overlay */}
            <div className="absolute inset-0 opacity-10 pointer-events-none bg-texture-overlay"></div>
            <div className="absolute -top-24 -left-24 w-96 h-96 bg-white/5 rounded-full blur-3xl pointer-events-none mix-blend-overlay"></div>
            <div className="absolute -bottom-24 -right-24 w-96 h-96 bg-white/5 rounded-full blur-3xl pointer-events-none mix-blend-overlay"></div>

            <div className="container mx-auto px-6 md:px-12 lg:px-24 pt-16 pb-8 relative z-10">
              <div className="pb-12 mb-12 border-b border-white/10 flex flex-col md:flex-row items-center justify-between gap-8 group">
                 <div className="text-center md:text-left space-y-2">
                    <h3 className="text-white font-serif text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-200">Đăng Ký Nhận Tin</h3>
                    <p className="text-slate-200 text-sm max-w-md">Cập nhật những thông tin pháp lý mới nhất và các bài viết chuyên sâu từ chuyên gia.</p>
                 </div>
                 <div className="w-full md:w-auto flex-shrink-0">
                    <form className="flex flex-col sm:flex-row gap-3 relative">
                       <div className="relative w-full sm:w-72 group-focus-within:transform group-focus-within:scale-105 transition-transform duration-300">
                          <input type="email" placeholder="Địa chỉ email của bạn" className="bg-white/10 backdrop-blur border border-white/20 rounded-full px-6 py-3 w-full focus:outline-none focus:border-white focus:ring-1 focus:ring-white text-white placeholder-slate-300 transition-all shadow-inner"/>
                          <Mail size={18} className="absolute right-4 top-1/2 transform -translate-y-1/2 text-slate-300" />
                       </div>
                       <button className="relative overflow-hidden bg-white text-brand-red font-bold px-8 py-3 rounded-full shadow-lg hover:shadow-white/20 transition-all duration-300 group/btn">
                          <span className="relative z-10 flex items-center justify-center">Đăng Ký <Send size={16} className="ml-2 transform group-hover/btn:translate-x-1 group-hover/btn:-translate-y-1 transition-transform" /></span>
                          <div className="absolute inset-0 -translate-x-full group-hover/btn:translate-x-full bg-slate-100 transition-transform duration-700 ease-in-out skew-x-12"></div>
                       </button>
                    </form>
                 </div>
              </div>

              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16">
                <div className="space-y-6">
                  <Link to="/" className="flex items-center space-x-2 group">
                    <div className="rounded transition-colors duration-300">
                        <img 
                          src="https://acchanoi.vn/wp-content/uploads/2025/12/2ea9378f-90ac-4d31-b74e-85ed91a5ae6d.png" 
                          alt="ACC Logo" 
                          className="h-10 w-auto object-contain brightness-0 invert"
                        />
                     </div>
                    <span className="font-serif text-2xl font-bold text-white tracking-tight group-hover:text-slate-200 transition-colors duration-300">ACC Hà Nội</span>
                  </Link>
                  <p className="text-sm leading-relaxed text-slate-200 text-justify border-l-2 border-white/20 pl-4">ACC Hà Nội cam kết mang lại công lý và sự an tâm cho khách hàng thông qua các dịch vụ pháp lý xuất sắc và tận tâm.</p>
                  <div className="flex space-x-4 pt-2">
                    <a href="#" className="w-10 h-10 rounded-full bg-white/10 border border-white/10 flex items-center justify-center text-slate-300 hover:bg-white hover:border-white hover:text-brand-red transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg" aria-label="Facebook">
                      <Facebook size={18} />
                    </a>
                    <a href="https://zalo.me/2519445727415972978" className="w-10 h-10 rounded-full bg-white/10 border border-white/10 flex items-center justify-center text-slate-300 hover:bg-white hover:border-white hover:text-brand-red transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg" aria-label="Zalo">
                       <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Icon_of_Zalo.svg/1200px-Icon_of_Zalo.svg.png" alt="Zalo" className="w-5 h-5 object-contain" />
                    </a>
                    <a href="tel:0923087107" className="w-10 h-10 rounded-full bg-white/10 border border-white/10 flex items-center justify-center text-slate-300 hover:bg-white hover:border-white hover:text-brand-red transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg" aria-label="Phone">
                      <Phone size={18} />
                    </a>
                    <a href="mailto:info@accgroup.vn" className="w-10 h-10 rounded-full bg-white/10 border border-white/10 flex items-center justify-center text-slate-300 hover:bg-white hover:border-white hover:text-brand-red transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg" aria-label="Email">
                      <Mail size={18} />
                    </a>
                  </div>
                </div>

                <div>
                  <h4 className="text-white font-serif text-lg font-bold mb-6 relative inline-block group cursor-default">Liên Kết Nhanh<span className="absolute bottom-[-8px] left-0 w-8 h-1 bg-white rounded group-hover:w-full transition-all duration-500 ease-out"></span></h4>
                  <ul className="space-y-3 text-sm">
                    {QUICK_LINKS.map((item, idx) => (
                      <li key={idx}>
                        <a href={item.path} className="group flex items-center text-slate-200 hover:text-white transition-colors duration-300">
                          <span className="w-1.5 h-1.5 rounded-full bg-white mr-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></span>
                          <span className="transform group-hover:translate-x-1 transition-transform duration-300">{item.label}</span>
                        </a>
                      </li>
                    ))}
                  </ul>
                </div>

                <div>
                  <h4 className="text-white font-serif text-lg font-bold mb-6 relative inline-block group cursor-default">Dịch Vụ Pháp Lý<span className="absolute bottom-[-8px] left-0 w-8 h-1 bg-white rounded group-hover:w-full transition-all duration-500 ease-out"></span></h4>
                  <ul className="space-y-3 text-sm">
                     {LEGAL_SERVICES.map((item, idx) => (
                      <li key={idx}>
                          <a href={item.path} className="group flex items-center text-slate-200 hover:text-white transition-colors duration-300">
                              <ArrowRight size={14} className="mr-2 opacity-50 group-hover:opacity-100 group-hover:text-white transform group-hover:translate-x-1 transition-all duration-300" />
                              <span className="group-hover:text-white transition-colors">{item.label}</span>
                          </a>
                      </li>
                    ))}
                  </ul>
                </div>

                <div>
                  <h4 className="text-white font-serif text-lg font-bold mb-6 relative inline-block group cursor-default">Thông Tin Liên Hệ<span className="absolute bottom-[-8px] left-0 w-8 h-1 bg-white rounded group-hover:w-full transition-all duration-500 ease-out"></span></h4>
                  <ul className="space-y-6 text-sm">
                    <li className="flex items-start space-x-4 group cursor-pointer"><div className="bg-white/10 p-2 rounded-full group-hover:bg-white group-hover:text-brand-red transition-colors duration-300"><MapPin size={18} /></div><span className="text-slate-200 group-hover:text-white transition-colors">Tầng 5A, 298 Cầu Giấy, Phường Cầu Giấy, TP. Hà Nội</span></li>
                    <li className="flex items-center space-x-4 group cursor-pointer"><div className="bg-white/10 p-2 rounded-full group-hover:bg-white group-hover:text-brand-red transition-colors duration-300"><Phone size={18} /></div><span className="text-white font-bold tracking-wide text-lg group-hover:text-slate-100 transition-colors">0923.087.107</span></li>
                    <li className="flex items-center space-x-4 group cursor-pointer"><div className="bg-white/10 p-2 rounded-full group-hover:bg-white group-hover:text-brand-red transition-colors duration-300"><Mail size={18} /></div><span className="text-slate-200 group-hover:text-white transition-colors">info@accgroup.vn</span></li>
                  </ul>
                </div>
              </div>

              <div className="border-t border-white/10 pt-8 flex flex-col md:flex-row justify-between items-center text-sm text-slate-400 relative z-10">
                <p>&copy; {new Date().getFullYear()} ACC Hà Nội. All rights reserved.</p>
                <div className="flex space-x-6 mt-4 md:mt-0">
                  <Link to="#" className="hover:text-white transition-colors">Chính sách bảo mật</Link><span className="text-slate-500">|</span><Link to="#" className="hover:text-white transition-colors">Điều khoản sử dụng</Link>
                </div>
              </div>
            </div>
          </footer>
        );
      };

      // ==========================================
      // 5. PAGES
      // ==========================================

      const Hero = () => {
        return (
          <section className="relative h-screen min-h-[600px] flex items-center justify-center overflow-hidden">
            <div className="absolute inset-0 z-0">
              <img src="https://images.unsplash.com/photo-1589829545856-d10d557cf95f?q=80&w=1170&auto=format&fit=crop" alt="Background" className="w-full h-full object-cover"/>
              {/* Reduced red noise: Using dark slate overlay instead of red */}
              <div className="absolute inset-0 bg-slate-900/50 mix-blend-multiply"></div>
              <div className="absolute inset-0 bg-gradient-to-t from-slate-900 via-transparent to-transparent opacity-90"></div>
            </div>
            <div className="container mx-auto px-4 md:px-6 relative z-10 text-center">
              <div className="max-w-4xl mx-auto space-y-8 animate-fade-in">
                {/* Modified h2 to look like a button */}
                <div className="flex justify-center mb-2">
                   <span className="inline-block py-2 px-6 rounded-full border border-white/30 bg-white/10 backdrop-blur-sm text-white font-bold tracking-widest uppercase text-xs md:text-sm shadow-sm transition-transform hover:scale-105 duration-300">
                      Chuyên Nghiệp - Uy Tín - Hiệu Quả
                   </span>
                </div>
                <h1 className="text-4xl md:text-6xl lg:text-7xl font-serif font-bold text-white leading-tight drop-shadow-lg">
                  Tận Tâm Giải Quyết <br/> <span className="text-slate-200">Từng Vấn Đề Pháp Lý Của Bạn</span>
                </h1>
                <p className="text-slate-200 text-lg md:text-xl max-w-2xl mx-auto font-light leading-relaxed drop-shadow-md">
                  ACC Hà Nội mang đến giải pháp pháp lý toàn diện, bảo vệ quyền lợi tối cao của khách hàng với đội ngũ luật sư hàng đầu Việt Nam.
                </p>
                <div className="flex flex-col md:flex-row items-center justify-center gap-4 pt-8">
                  {/* FIX: Rounded full for main CTA button */}
                  <Link to="/contact" className="group relative px-8 py-4 bg-white text-brand-red font-semibold rounded-full overflow-hidden shadow-lg hover:shadow-white/40 transition-all">
                    <div className="absolute inset-0 w-full h-full bg-slate-100 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-500"></div>
                    <span className="relative flex items-center">
                      Tư Vấn Ngay <ChevronRight size={18} className="ml-2 group-hover:translate-x-1 transition-transform" />
                    </span>
                  </Link>
                  <Link to="/practices" className="px-8 py-4 bg-transparent border border-white text-white font-semibold rounded-full hover:bg-white hover:text-brand-red transition-all">
                    Tìm Hiểu Dịch Vụ
                  </Link>
                </div>
              </div>
            </div>
          </section>
        );
      };

      const Home = () => {
        const [news, setNews] = useState([]);
        const [loading, setLoading] = useState(true);

        useEffect(() => {
          const loadNews = async () => {
            const posts = await fetchLatestPosts();
            setNews(posts);
            setLoading(false);
          };
          loadNews();
        }, []);

        return (
          <div className="flex flex-col">
            <Hero />
            <Section bg="white">
              <div className="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center">
                <div className="space-y-6 order-2 lg:order-1">
                  <div className="w-16 h-1 bg-brand-red mb-6"></div>
                  <h2 className="text-3xl md:text-4xl font-serif font-bold text-brand-navy leading-tight">Với Nhiều Năm Kinh Ngiệm <br/> Trong Lĩnh Vực Pháp Lý</h2>
                  <p className="text-slate-600 leading-relaxed text-lg text-justify">ACC Hà Nội tự hào là đơn vị cung cấp các giải pháp pháp lý toàn diện, chuyên nghiệp và tận tâm cho khách hàng. Với Đội ngũ luật sư dày dặn kinh nghiệm, am hiểu luật pháp cùng tinh thần trách nhiệm cao sẽ luôn đồng hành cùng bạn, giúp bạn giải quyết mọi vấn đề pháp lý một cách hiệu quả nhất.</p>
                  <ul className="space-y-4 pt-4">{['Tư vấn chiến lược toàn diện', 'Giải pháp pháp lý tối ưu chi phí', 'Đội ngũ chuyên gia hàng đầu', 'Cam kết bảo mật tuyệt đối'].map((item, idx) => (<li key={idx} className="flex items-center space-x-3 text-slate-700 font-medium"><CheckCircle2 className="text-brand-red flex-shrink-0" size={20} /><span>{item}</span></li>))}</ul>
                </div>
                <div className="relative order-1 lg:order-2">
                  <div className="absolute -top-4 -left-4 w-full h-full border-2 border-brand-red rounded-sm z-0 hidden md:block"></div>
                  <img src="https://images.unsplash.com/photo-1654588834754-33346e3ee095?q=80&w=1170&auto=format&fit=crop" alt="Meeting" className="rounded-sm shadow-xl relative z-10 w-full h-auto object-cover"/>
                </div>
              </div>
            </Section>

            {/* Why Choose Us - Call to Action Section with Brand Red Background */}
            <div className="bg-brand-red py-16 md:py-24 text-white relative overflow-hidden">
               {/* Added texture overlay */}
               <div className="absolute inset-0 opacity-10 pointer-events-none bg-texture-overlay"></div>
               <div className="absolute top-0 right-0 w-1/3 h-full bg-white/5 skew-x-12 transform translate-x-20 pointer-events-none"></div>
               <div className="container mx-auto px-6 md:px-12 lg:px-24 relative z-10">
                  <SectionHeader 
                     subtitle="Giá Trị Cốt Lõi" 
                     title="Tại Sao Chọn Chúng Tôi?" 
                     align="center"
                     light={true} // Add light prop to make text white
                  />
                  <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                     {[{icon: Trophy, t: 'Tiết Kiệm Thời Gian'}, {icon: ShieldCheck, t: 'Bảo Mật Tuyệt Đối'}, {icon: Clock, t: 'Hỗ Trợ 24/7'}, {icon: PiggyBank, t: 'Chi Phí Minh Bạch'}].map((i, k) => (
                       <div key={k} className="bg-white/10 backdrop-blur-sm p-6 rounded border border-white/10 hover:border-white transition-colors duration-300 group">
                          <div className="w-12 h-12 bg-white/10 rounded-lg flex items-center justify-center text-white mb-4 group-hover:bg-white group-hover:text-brand-red transition-colors"><i.icon size={24} /></div>
                          <h3 className="text-lg font-serif font-bold mb-2 text-white">{i.t}</h3>
                          <p className="text-slate-200 text-sm">Chúng tôi cam kết mang lại giá trị thực cho khách hàng.</p>
                       </div>
                     ))}
                  </div>
               </div>
            </div>

            <Section bg="light" id="practices">
              <SectionHeader 
                 subtitle="Chuyên Môn Của Chúng Tôi" 
                 title="Lĩnh Vực Hoạt Động" 
                 align="center"
              />
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                {PRACTICE_AREAS.slice(0, 6).map((area) => (
                  <a key={area.id} href={area.path} className="block group h-full">
                    <div className="bg-white p-6 rounded shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 border-t-4 border-transparent hover:border-brand-red h-full flex flex-col">
                      <div className="w-12 h-12 bg-slate-50 rounded-full flex items-center justify-center text-brand-navy group-hover:bg-brand-red group-hover:text-white transition-colors mb-4 flex-shrink-0">
                        <area.icon size={24} strokeWidth={1.5} />
                      </div>
                      <h3 className="text-xl font-serif font-bold text-brand-navy mb-3 group-hover:text-brand-red transition-colors">{area.title}</h3>
                      <p className="text-slate-600 mb-5 text-sm leading-relaxed line-clamp-3 flex-grow">{area.description}</p>
                      <div className="mt-auto">
                        <span className="inline-flex items-center text-xs font-bold text-brand-navy group-hover:text-brand-red transition-colors uppercase tracking-wide">
                          Xem chi tiết <ArrowRight size={14} className="ml-1 transition-transform duration-300 group-hover:translate-x-1" />
                        </span>
                      </div>
                    </div>
                  </a>
                ))}
              </div>
              <div className="text-center mt-12"><Link to="/practices" className="inline-block px-8 py-3 border border-brand-navy text-brand-navy font-medium rounded-full hover:bg-brand-navy hover:text-white transition-all text-sm">Xem Tất Cả Dịch Vụ</Link></div>
            </Section>

            <Section bg="white" id="attorneys">
              <SectionHeader 
                 subtitle="Nhân Sự Chất Lượng Cao" 
                 title="Đội Ngũ Luật Sư ACC Hà Nội" 
                 description="Với sự tận tâm và chuyên môn sâu rộng, đội ngũ luật sư của chúng tôi luôn sẵn sàng bảo vệ quyền lợi hợp pháp của bạn."
                 align="center"
              />
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                {ATTORNEYS.map((attorney) => (
                  <div key={attorney.id} className="group relative overflow-hidden rounded-lg shadow-md hover:shadow-xl transition-all duration-500">
                    <div className="h-96 overflow-hidden">
                      <img src={attorney.image} alt={attorney.name} className="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105" />
                    </div>
                    {/* Reduced red noise: Using dark slate gradient */}
                    <div className="absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/60 to-transparent opacity-90 translate-y-full group-hover:translate-y-0 transition-transform duration-500 flex flex-col justify-end p-6">
                       <div className="transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500 delay-100">
                          <span className="text-white text-xs font-bold uppercase tracking-wider mb-2 block">{attorney.specialty}</span>
                          <h3 className="text-white font-serif text-xl font-bold mb-1">{attorney.name}</h3>
                          <p className="text-slate-200 text-sm mb-4">{attorney.role}</p>
                          {/* FIX: Rounded full for attorney contact button */}
                          <a href="tel:0923087107" className="inline-flex items-center text-white text-xs font-bold border border-white px-4 py-2 rounded-full hover:bg-white hover:text-brand-red transition-colors group/btn">
                            Liên hệ ngay <ArrowRight size={14} className="ml-2 transition-transform duration-300 group-hover/btn:translate-x-1"/>
                          </a>
                       </div>
                    </div>
                    <div className="absolute bottom-0 left-0 w-full p-6 bg-white transition-transform duration-500 group-hover:translate-y-full">
                       <h3 className="text-brand-navy font-serif text-lg font-bold">{attorney.name}</h3>
                       <p className="text-brand-red text-xs font-bold uppercase">{attorney.role}</p>
                    </div>
                  </div>
                ))}
              </div>
              <div className="flex justify-end mt-12">
                 <Link to="/attorneys" className="inline-flex items-center text-brand-navy font-bold text-sm border-b-2 border-brand-red pb-1 hover:text-brand-red transition-colors group">
                    Xem thêm đội ngũ luật sư <ArrowRight size={16} className="ml-2 transition-transform duration-300 group-hover:translate-x-1" />
                 </Link>
              </div>
            </Section>

            <Section bg="light">
               <SectionHeader 
                 subtitle="Đánh Giá" 
                 title="Khách Hàng Nói Gì" 
                 align="center"
              />
               <TestimonialCarousel testimonials={TESTIMONIALS} />
            </Section>

            <Section bg="white" id="news">
               <div className="flex flex-col md:flex-row justify-between items-end mb-12 px-4 md:px-0">
                  <SectionHeader 
                     subtitle="Kiến Thức Pháp Lý" 
                     title="Tin Tức Mới Nhất" 
                     align="left"
                     className="!mb-0 w-full md:w-auto"
                  />
                  <Link to="/blog" className="hidden md:inline-flex items-center text-brand-navy font-semibold hover:text-brand-red transition-colors mb-4 md:mb-0 group whitespace-nowrap">
                     Xem Thêm Bài Viết <ArrowRight size={18} className="ml-2 transition-transform duration-300 group-hover:translate-x-1" />
                  </Link>
               </div>
               <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                  {loading ? (
                    Array.from({ length: 6 }).map((_, idx) => (
                      <div key={idx} className="bg-white rounded-lg h-96 animate-pulse">
                        <div className="h-40 bg-slate-200 w-full rounded-t-lg"></div>
                        <div className="p-4 space-y-4">
                          <div className="h-4 bg-slate-200 w-1/3 rounded"></div>
                          <div className="h-6 bg-slate-200 w-full rounded"></div>
                          <div className="h-4 bg-slate-200 w-full rounded"></div>
                        </div>
                      </div>
                    ))
                  ) : (
                    news.map((post) => (<PostCard key={post.id} post={post} />))
                  )}
               </div>
            </Section>
          </div>
        );
      };

      // ==========================================
      // 6. APP & ROUTER
      // ==========================================

      const PlaceholderPage = ({ title }) => (
        <div className="pt-24 min-h-screen bg-slate-50 flex items-center justify-center">
          <div className="text-center">
            <h1 className="text-4xl font-serif font-bold text-brand-navy mb-4">{title}</h1>
            <p className="text-slate-600">Trang này đang được cập nhật.</p>
          </div>
        </div>
      );

      const Layout = () => (
        <div className="flex flex-col min-h-screen">
          <Header />
          <main className="flex-grow"><Outlet /></main>
          <Footer />
          <FloatingContact />
          <ScrollToTopButton />
        </div>
      );

      const App = () => {
        return (
          <HashRouter>
            <Routes>
              <Route path="/" element={<Layout />}>
                <Route index element={<Home />} />
                <Route path="practices" element={<PlaceholderPage title="Lĩnh Vực Hoạt Động" />} />
                <Route path="attorneys" element={<PlaceholderPage title="Đội Ngũ Luật Sư" />} />
                <Route path="contact" element={<PlaceholderPage title="Liên Hệ" />} />
                <Route path="blog" element={<PlaceholderPage title="Tin Tức" />} />
                <Route path="blog/:id" element={<PlaceholderPage title="Chi Tiết Bài Viết" />} />
                <Route path="about" element={<Home />} />
                <Route path="*" element={<PlaceholderPage title="404 - Không Tìm Thấy" />} />
              </Route>
            </Routes>
          </HashRouter>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);
    </script>
  </body>
</html>
